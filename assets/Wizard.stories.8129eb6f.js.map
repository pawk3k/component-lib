{"version":3,"file":"Wizard.stories.8129eb6f.js","sources":["../../node_modules/@storybook/addon-docs/blocks.js","../../src/molecules/Wizard.tsx"],"sourcesContent":["import deprecate from 'util-deprecate';\nimport dedent from 'ts-dedent';\n\nconst warnBlocksImport = deprecate(\n  () => {},\n  dedent`\n    Importing from '@storybook/addon-docs/blocks' is deprecated, import directly from '@storybook/addon-docs' instead:\n    \n    https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-scoped-blocks-imports\n`\n);\nwarnBlocksImport();\n\nexport * from './dist/esm/blocks';\n","import React, { createContext, FunctionComponent, ReactFragment, useEffect, useState } from 'react';\n\ninterface WizardProps {\n  children: React.ReactNode[];\n}\n\ninterface WizardProviderValues {\n  activePage: number;\n  goNextPage: () => void;\n  goPrevPage: () => void;\n  steps: number;\n  setSteps: (steps: number) => void;\n}\n\nconst WizardContext = createContext({} as WizardProviderValues);\n\nconst useWizardContext = () => {\n  const context = React.useContext(WizardContext);\n  if (!context) {\n    throw new Error('Component can not be used outside of Wizard');\n  }\n  return context;\n};\n\nconst WizardWrapper = ({ children }: WizardProps): JSX.Element => {\n  const [activePage, setActivePage] = useState(0);\n  const [steps, setSteps] = useState(0);\n\n  const goNextPage = () => setActivePage((activePage) => activePage + 1);\n  const goPrevPage = () => setActivePage((activePage) => activePage - 1);\n\n  return (\n    <WizardContext.Provider\n      value={{\n        activePage,\n        goNextPage,\n        goPrevPage,\n        steps,\n        setSteps,\n      }}\n    >\n      {children}\n    </WizardContext.Provider>\n  );\n};\n\ninterface PagesPros {\n  children: React.ReactNode[];\n}\n\nconst Pages = (props: PagesPros): JSX.Element => {\n  const { activePage, setSteps } = useWizardContext();\n\n  const pages = React.Children.toArray(props.children);\n  const stepsCount = React.Children.count(props.children);\n  const currentPage = pages[activePage];\n\n  useEffect(() => {\n    setSteps(stepsCount);\n  }, [stepsCount, setSteps]);\n\n  return <div {...props}>{currentPage}</div>;\n};\n\n// useWizardProgress hook eventually\nconst WizardProgressBar = () => {\n  const { activePage, steps } = useWizardContext();\n  return (\n    <div>\n      {activePage + 1}/{steps}\n    </div>\n  );\n};\n\nconst NextButton = () => {\n  const { activePage, steps, goNextPage } = useWizardContext();\n\n  if (activePage >= steps - 1) return null;\n\n  return <button onClick={goNextPage}>Next</button>;\n};\n\nconst PrevButton: FunctionComponent = () => {\n  const { activePage, goPrevPage } = useWizardContext();\n\n  if (activePage <= 0) return null;\n\n  return <button onClick={goPrevPage}>Previous</button>;\n};\n\nexport const Wizard = () => {\n  return (\n    <WizardWrapper>\n      <Wizard.Pages>\n        <div>page1</div>\n        <div>page2</div>\n        <div>page3</div>\n        <div>page4</div>\n      </Wizard.Pages>\n      <Wizard.NextButton />\n      <Wizard.PrevButton />\n      <WizardProgressBar />\n    </WizardWrapper>\n  );\n};\n\nWizard.Pages = Pages;\nWizard.NextButton = NextButton;\nWizard.PrevButton = PrevButton;\nWizard.Progress = WizardProgressBar;\n"],"names":["deprecate","createContext","React","children","useState","_jsx","activePage","goNextPage","goPrevPage","steps","setSteps","useEffect","props","currentPage","_jsxs","Wizard"],"mappings":"6zBAGA,KAAM,GAAmBA,EACvB,IAAM,CAAE,EACR;AAAA;AAAA;AAAA;AAAA,CAKF,EACA,EAAkB,ECGlB,KAAA,GAAAC,EAAAA,QAAAA,cAAA,CAAA,CAAA,EAEA,EAAA,IAAA,CACE,KAAA,GAAAC,EAAA,WAAA,CAAA,EACA,GAAA,CAAA,EACE,KAAA,IAAA,OAAA,6CAAA,EAEF,MAAA,EACD,EAED,EAAA,CAAA,CAAuB,cAAEC,CACvB,KAAA,CAAA,EAAA,GAAAC,EAAA,QAAA,SAAA,CAAA,EACA,CAAA,EAAA,GAAAA,EAAA,QAAA,SAAA,CAAA,EAEA,EAAA,IAAA,EAAA,AAAA,GAAA,EAAA,CAAA,EACA,EAAA,IAAA,EAAA,AAAA,GAAA,EAAA,CAAA,EAEA,MAAAC,GAAA,EAAA,SAAA,CACE,MAAA,CACS,aACLC,aACAC,aACAC,QACAC,UACAC,EALK,UADT,CAAA,CAYH,EAMD,EAAA,AAAA,GAAA,CACE,KAAA,CAAM,aAAEJ,YAAYI,EAAAA,EAEpB,EAAAR,EAAA,SAAA,QAAA,EAAA,QAAA,EACA,EAAAA,EAAA,SAAA,MAAA,EAAA,QAAA,EACA,EAAA,EAAA,GAEAS,SAAAA,QAAAA,UAAAA,IAAAA,CACED,EAAAA,CAAAA,CAAQ,EAAA,CAAA,EAAA,CAAA,CAAA,EAGVL,EAAA,MAAA,UAAA,CAAgBO,SAAAA,CAAQC,EAAAA,CACzB,EAGD,EAAA,IAAA,CACE,KAAA,CAAM,aAAEP,SAAYG,EAAAA,EACpB,MAAAK,GAAA,MAAA,CACE,SAAA,CAAA,EAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAIH,EAED,EAAA,IAAA,CACE,KAAA,CAAM,aAAER,QAAYG,cAAOF,EAAAA,EAE3B,MAAA,IAAA,EAAA,EAA6B,KAE7BF,EAAA,SAAA,CAAO,QAAA,EAAiBE,SAAAA,MAAjB,CAAA,CACR,EAED,EAAA,IAAA,CACE,KAAA,CAAM,aAAED,cAAYE,EAAAA,EAEpB,MAAA,IAAA,EAAqB,KAErBH,EAAA,SAAA,CAAO,QAAA,EAAiBG,SAAAA,UAAjB,CAAA,CACR,EAEM,EAAA,IACLM,EAAA,EAAA,CACE,SAAA,CAAAA,EAAA,EAAA,MAAA,CACE,SAAA,CAAAT,EAAA,MAAA,CACE,SAAA,OAAA,CAAA,EAAAA,EAAA,MAAA,CACA,SAAA,OAAA,CAAA,EAAAA,EAAA,MAAA,CACA,SAAA,OAAA,CAAA,EAAAA,EAAA,MAAA,CACA,SAAA,OAAA,CAAA,CAAA,CAJF,CAAA,EAAAA,EAAA,EAAA,WAAA,CAAA,CAAA,EAAAA,EAAA,EAAA,WAAA,CAAA,CAAA,EAAAA,EAAA,EAAA,CAAA,CAAA,CAAA,CADF,CAAA,EAcJU,EAAAA,MAAAA,EACAA,EAAAA,WAAAA,EACAA,EAAAA,WAAAA,EACAA,EAAAA,SAAAA"}